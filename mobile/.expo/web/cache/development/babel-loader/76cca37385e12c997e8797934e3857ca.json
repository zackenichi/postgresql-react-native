{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Coding\\\\Builds\\\\end-to-end-react-native\\\\mobile\\\\App.js\";\nimport { StatusBar } from \"expo-status-bar\";\nimport React, { useState, useEffect } from \"react\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TaskInput from \"./components/TaskInput\";\nimport Data from \"./components/Data\";\nexport default function App() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      taskItems = _useState2[0],\n      setTaskItems = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isAddMode = _useState4[0],\n      setIsAddMode = _useState4[1];\n\n  var newTaskHandler = function newTaskHandler(newTask) {\n    setTaskItems(function (currentTasks) {\n      return [].concat(_toConsumableArray(currentTasks), [{\n        id: Math.random().toString(),\n        value: newTask\n      }]);\n    });\n    createTask(newTask);\n    getTasks();\n    setIsAddMode(false);\n  };\n\n  var deleteTask = function deleteTask(taskId) {\n    setTaskItems(function (currentTasks) {\n      return currentTasks.filter(function (task) {\n        return task.id !== taskId;\n      });\n    });\n  };\n\n  var cancelAddTask = function cancelAddTask() {\n    setIsAddMode(false);\n  };\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      dataResult = _useState6[0],\n      setDataResult = _useState6[1];\n\n  useEffect(function () {\n    getTasks();\n  }, []);\n\n  function getTasks() {\n    fetch(\"http://192.168.1.5:3001\").then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      var sampleArray = [];\n      Object.values(data.dblisttask).forEach(function (value) {\n        sampleArray.push(value);\n      });\n      setTaskItems(sampleArray);\n      setDataResult(sampleArray);\n    });\n  }\n\n  function createTask(newTask) {\n    var title = newTask;\n    fetch(\"http://localhost:3001/tasks\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        title: title\n      })\n    }).then(function (response) {\n      return response.text();\n    }).then(function () {\n      getTasks();\n    });\n  }\n\n  return React.createElement(View, {\n    style: styles.screen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, React.createElement(Button, {\n    title: \"Add Task\",\n    onPress: function onPress() {\n      return setIsAddMode(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }), React.createElement(TaskInput, {\n    visible: isAddMode,\n    onNewTask: newTaskHandler,\n    cancelAddTask: cancelAddTask,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }), React.createElement(Data, {\n    taskItems: taskItems,\n    deleteTask: deleteTask,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }), console.log(\"taskItems\", taskItems));\n}\nvar styles = StyleSheet.create({\n  screen: {\n    padding: 50\n  }\n});","map":{"version":3,"sources":["D:/Coding/Builds/end-to-end-react-native/mobile/App.js"],"names":["StatusBar","React","useState","useEffect","TaskInput","Data","App","taskItems","setTaskItems","isAddMode","setIsAddMode","newTaskHandler","newTask","currentTasks","id","Math","random","toString","value","createTask","getTasks","deleteTask","taskId","filter","task","cancelAddTask","dataResult","setDataResult","fetch","then","response","json","data","sampleArray","Object","values","dblisttask","forEach","push","title","method","headers","body","JSON","stringify","text","styles","screen","console","log","StyleSheet","create","padding"],"mappings":"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","sourcesContent":["import { StatusBar } from \"expo-status-bar\";\nimport React, { useState, useEffect } from \"react\";\nimport { Button, StyleSheet, View, FlatList } from \"react-native\";\n\nimport TaskInput from \"./components/TaskInput\";\nimport Data from \"./components/Data\";\n\nexport default function App() {\n  const [taskItems, setTaskItems] = useState([]);\n  const [isAddMode, setIsAddMode] = useState(false);\n\n  const newTaskHandler = (newTask) => {\n    setTaskItems((currentTasks) => [\n      ...currentTasks,\n      {\n        id: Math.random().toString(),\n        value: newTask,\n      },\n    ]);\n    createTask(newTask);\n    getTasks();\n    setIsAddMode(false);\n  };\n\n  const deleteTask = (taskId) => {\n    setTaskItems((currentTasks) => {\n      return currentTasks.filter((task) => task.id !== taskId);\n    });\n  };\n\n  const cancelAddTask = () => {\n    setIsAddMode(false);\n  };\n\n  // get data from database\n\n  const [dataResult, setDataResult] = useState([]);\n\n  useEffect(() => {\n    getTasks();\n  }, []);\n\n  function getTasks() {\n    fetch(\"http://192.168.1.5:3001\")\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        let sampleArray = [];\n        Object.values(data.dblisttask).forEach((value) => {\n          sampleArray.push(value);\n        });\n\n        setTaskItems(sampleArray);\n\n        setDataResult(sampleArray);\n      });\n  }\n\n  function createTask(newTask) {\n    let title = newTask;\n\n    fetch(\"http://localhost:3001/tasks\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ title }),\n    })\n      .then((response) => {\n        return response.text();\n      })\n      .then(() => {\n        getTasks();\n      });\n  }\n\n  return (\n    <View style={styles.screen}>\n      <Button title=\"Add Task\" onPress={() => setIsAddMode(true)} />\n      <TaskInput\n        visible={isAddMode}\n        onNewTask={newTaskHandler}\n        cancelAddTask={cancelAddTask}\n      />\n      <Data taskItems={taskItems} deleteTask={deleteTask} />\n      {console.log(\"taskItems\", taskItems)}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  screen: { padding: 50 },\n});\n"]},"metadata":{},"sourceType":"module"}